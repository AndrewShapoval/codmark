(this.webpackJsonpcodmark=this.webpackJsonpcodmark||[]).push([[0],{13:function(e,a,t){e.exports={image:"Image_image__15mkD",img:"Image_img__1UAoH",imgComposite:"Image_imgComposite__1bJco"}},19:function(e,a,t){e.exports={groupedTags:"GroupedTags_groupedTags__mUxs_",uniqueTag:"GroupedTags_uniqueTag__191ad",images:"GroupedTags_images__3X1SC"}},35:function(e,a,t){},41:function(e,a,t){e.exports={header:"Header_header__3MFKn"}},49:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t(0),i=t.n(c),r=t(15),s=t.n(r),o=(t(49),t(35)),u=t.n(o),l=t(24),g=t(8),m=t.n(g),d=t(43),j=t(5),_=t(23),p=t.n(_),b=t(39),O=t(25),f=t(4),h=t(40),v=t.n(h).a.create({baseURL:"https://api.giphy.com/v1/gifs/"}),x=function(e){return v.get("random?api_key=".concat("gTJAO48YcpmrADUyo4opy4ES4g7iDBxx","&tag=").concat(e))},T={status:"idle",images:[],responseMessage:"",uniqueTagsNames:[]},S=function(e,a,t){return{type:"APP/SET_IMAGE",id:e,image_url:a,tag:t}},N=function(e){return{type:"APP/SET_STATUS",status:e}},A=function(e){return{type:"APP/SET_RESPONSE_MESSAGE",message:e}},C=function(e){return function(){var a=Object(b.a)(p.a.mark((function a(t){var n,c,i,r,s,o,u,l,g;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(N("loading")),a.prev=1,n=e.split(","),c=n.map((function(e){return e?x(e):null})),a.next=6,Promise.all(c);case 6:i=a.sent,r=i[0],s=null===r||void 0===r?void 0:r.data.data,o=s.id,u=s.image_url,l=i[1],g=[u,(null===l||void 0===l?void 0:l.data.data.image_url)?null===l||void 0===l?void 0:l.data.data.image_url:null],0===(null===r||void 0===r?void 0:r.data.data.length)||0===(null===l||void 0===l?void 0:l.data.data.length)?t(A("\u041f\u043e \u0442\u0435\u0433\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")):(t(S(o,g,e.toLowerCase())),t({type:"APP/SET_UNIQUE_TAG_NAME",tag:e.toLowerCase()})),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),t(A("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 http \u043e\u0448\u0438\u0431\u043a\u0430"));case 17:t(N("succeeded"));case 18:case"end":return a.stop()}}),a,null,[[1,14]])})));return function(e){return a.apply(this,arguments)}}()},E=t(9),M=t.n(E),P=function(e){var a=e.active,t=e.setActive,c=e.text;return Object(n.jsx)("div",{className:a?"".concat(M.a.modal," ").concat(M.a.active):M.a.modal,onClick:function(){return t(!1)},children:Object(n.jsx)("div",{className:a?"".concat(M.a.modalContent," ").concat(M.a.modalContentActive):M.a.modalContent,onClick:function(e){return e.stopPropagation()},children:Object(n.jsx)("p",{className:M.a.text,children:c})})})},k=t(19),I=t.n(k),y=t(13),G=t.n(y),V=i.a.memo((function(e){return Object(n.jsxs)("div",{className:G.a.image,children:[Object(n.jsx)("img",{className:null===e.image.image_url[1]?G.a.img:G.a.imgComposite,src:e.image.image_url[0],onClick:function(){return e.handlerSetTagValueInput(e.image.tag)},alt:e.image.tag}),null!==e.image.image_url[1]?Object(n.jsx)("img",{className:G.a.imgComposite,src:e.image.image_url[1],onClick:function(){return e.handlerSetTagValueInput(e.image.tag)},alt:e.image.tag}):null]})})),q=i.a.memo((function(e){var a=Object(j.c)((function(e){return e.app.uniqueTagsNames})),t=Object(j.c)((function(e){return e.app.images}));return Object(n.jsx)(n.Fragment,{children:a&&a.map((function(a,c){return Object(n.jsxs)("div",{className:I.a.groupedTags,children:[Object(n.jsx)("h3",{className:I.a.uniqueTag,children:a}),Object(n.jsx)("div",{className:I.a.images,children:t&&t.filter((function(e){return e.tag===a})).map((function(a,t){return Object(n.jsx)(V,{handlerSetTagValueInput:e.handlerSetTagValueInput,image:a},"".concat(a.id," ").concat(t))}))})]},c)}))})})),w=function(){var e=Object(j.b)(),a=Object(j.c)((function(e){return e.app.images})),t=Object(j.c)((function(e){return e.app.status})),i=Object(j.c)((function(e){return e.app.responseMessage})),r=Object(c.useState)(!1),s=Object(l.a)(r,2),o=s[0],u=s[1],g=Object(c.useState)(!1),_=Object(l.a)(g,2),p=_[0],b=_[1],O=Object(d.a)({initialValues:{tag:""},validate:function(e){var a={};return e.tag?/^[a-z, ]+$/i.test(e.tag)||(a.tag="\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430"):a.tag="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 '\u0442\u0435\u0433'",a},onSubmit:function(a){if("delay"!==a.tag)e(C(a.tag));else{var t=["cat","dog","car","cat, dog","cat, car","dog, car"];setInterval((function(){var a=Math.floor(Math.random()*t.length);e(C(t[a]))}),5e3)}}}),f=function(e){O.setFieldValue("tag",e)};return Object(n.jsxs)("div",{className:m.a.mainBlock,children:[i?Object(n.jsx)(P,{active:o,setActive:u,text:i}):null,Object(n.jsxs)("div",{className:m.a.mainContainer,children:[Object(n.jsxs)("form",{onSubmit:O.handleSubmit,className:m.a.form,children:[Object(n.jsx)("input",{type:"text",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433",onChange:O.handleChange,name:"tag",value:O.values.tag}),Object(n.jsx)("button",{className:m.a.load,value:"send",disabled:"loading"===t,onClick:function(){O.errors||!O.values.tag?(O.errors.tag&&e(A(O.errors.tag)),setTimeout((function(){return e(A(""))}),4e3),u(!0)):(u(!1),O.handleSubmit())},type:"submit",children:"loading"===t?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(n.jsx)("button",{className:m.a.clear,type:"button",onClick:function(){e({type:"APP/REMOVE_IMAGE"}),O.resetForm()},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),p?Object(n.jsx)("button",{className:m.a.group,type:"button",onClick:function(){return b(!1)},children:"\u0420\u0430\u0437\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}):Object(n.jsx)("button",{className:m.a.group,type:"button",onClick:function(){return b(!0)},children:"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),p?Object(n.jsx)(q,{handlerSetTagValueInput:f}):Object(n.jsx)("div",{className:m.a.images,children:a&&a.map((function(e,a){return Object(n.jsx)(V,{handlerSetTagValueInput:f,image:e},"".concat(e.id," ").concat(a))}))})]})]})},U=t(41),F=t.n(U),B=function(){return Object(n.jsx)("div",{className:F.a.header,children:Object(n.jsx)("h1",{children:"Header"})})},R=function(){return Object(n.jsxs)("div",{className:u.a.app,children:[Object(n.jsx)(B,{}),Object(n.jsx)(w,{})]})},D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,73)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,i=a.getLCP,r=a.getTTFB;t(e),n(e),c(e),i(e),r(e)}))},L=t(11),J=t(42),z=Object(L.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"APP/SET_STATUS":return Object(f.a)(Object(f.a)({},e),{},{status:a.status});case"APP/SET_IMAGE":return Object(f.a)(Object(f.a)({},e),{},{images:[].concat(Object(O.a)(e.images),[{id:a.id,image_url:a.image_url,tag:a.tag}])});case"APP/REMOVE_IMAGE":return Object(f.a)(Object(f.a)({},e),{},{images:[],uniqueTagsNames:[]});case"APP/SET_RESPONSE_MESSAGE":return Object(f.a)(Object(f.a)({},e),{},{responseMessage:a.message});case"APP/SET_UNIQUE_TAG_NAME":return e.uniqueTagsNames.length?e.uniqueTagsNames.find((function(e){return e===a.tag}))?e:Object(f.a)(Object(f.a)({},e),{},{uniqueTagsNames:[].concat(Object(O.a)(e.uniqueTagsNames),[a.tag])}):Object(f.a)(Object(f.a)({},e),{},{uniqueTagsNames:[a.tag]});default:return e}}}),H=Object(L.d)(z,Object(L.a)(J.a));window.store=H,s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(j.a,{store:H,children:Object(n.jsx)(R,{})})}),document.getElementById("root")),D()},8:function(e,a,t){e.exports={mainBlock:"Main_mainBlock__5aICz",mainContainer:"Main_mainContainer__KoDBs",form:"Main_form__3hcEP",load:"Main_load__2A8OV",clear:"Main_clear__2PnN6",group:"Main_group__3R4OT",images:"Main_images__KzOY_"}},9:function(e,a,t){e.exports={modal:"Modal_modal__1kS8s",modalContent:"Modal_modalContent__2GV_h",text:"Modal_text__2r-Su",modalContentActive:"Modal_modalContentActive__3QTwg",active:"Modal_active__IM28W"}}},[[72,1,2]]]);
//# sourceMappingURL=main.b18e492f.chunk.js.map