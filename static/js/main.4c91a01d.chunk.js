(this.webpackJsonpcodmark=this.webpackJsonpcodmark||[]).push([[0],{18:function(e,a,t){e.exports={groupedTags:"GroupedTags_groupedTags__mUxs_",uniqueTag:"GroupedTags_uniqueTag__191ad",images:"GroupedTags_images__3X1SC"}},19:function(e,a,t){e.exports={image:"Image_image__15mkD",img:"Image_img__1UAoH"}},35:function(e,a,t){},41:function(e,a,t){e.exports={header:"Header_header__3MFKn"}},49:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t(0),i=t.n(c),r=t(14),s=t.n(r),u=(t(49),t(35)),o=t.n(u),l=t(24),g=t(8),d=t.n(g),m=t(43),j=t(5),_=t(23),b=t.n(_),p=t(39),O=t(25),f=t(4),h=t(40),v=t.n(h).a.create({baseURL:"https://api.giphy.com/v1/gifs/"}),x=function(e){return v.get("random?api_key=".concat("gTJAO48YcpmrADUyo4opy4ES4g7iDBxx","&tag=").concat(e))},T={status:"idle",images:[],responseMessage:"",uniqueTagsNames:[]},S=function(e,a,t){return{type:"APP/SET_IMAGE",id:e,image_url:a,tag:t}},N=function(e){return{type:"APP/SET_STATUS",status:e}},A=function(e){return{type:"APP/SET_RESPONSE_MESSAGE",message:e}},E=t(9),M=t.n(E),P=function(e){var a=e.active,t=e.setActive,c=e.text;return Object(n.jsx)("div",{className:a?"".concat(M.a.modal," ").concat(M.a.active):M.a.modal,onClick:function(){return t(!1)},children:Object(n.jsx)("div",{className:a?"".concat(M.a.modalContent," ").concat(M.a.modalContentActive):M.a.modalContent,onClick:function(e){return e.stopPropagation()},children:Object(n.jsx)("p",{className:M.a.text,children:c})})})},C=t(18),k=t.n(C),I=t(19),y=t.n(I),G=i.a.memo((function(e){return Object(n.jsxs)("div",{className:y.a.image,children:[Object(n.jsx)("img",{className:y.a.img,src:e.image.image_url[0],onClick:function(){return e.handlerSetTagValueInput(e.image.tag)},alt:e.image.tag}),null!==e.image.image_url[1]?Object(n.jsx)("img",{className:y.a.img,src:e.image.image_url[1],onClick:function(){return e.handlerSetTagValueInput(e.image.tag)},alt:e.image.tag}):null]})})),V=i.a.memo((function(e){var a=Object(j.c)((function(e){return e.app.uniqueTagsNames})),t=Object(j.c)((function(e){return e.app.images}));return Object(n.jsx)(n.Fragment,{children:a&&a.map((function(a,c){return Object(n.jsxs)("div",{className:k.a.groupedTags,children:[Object(n.jsx)("h3",{className:k.a.uniqueTag,children:a}),Object(n.jsx)("div",{className:k.a.images,children:t&&t.filter((function(e){return e.tag===a})).map((function(a,t){return Object(n.jsx)(G,{handlerSetTagValueInput:e.handlerSetTagValueInput,image:a},"".concat(a.id," ").concat(t))}))})]},c)}))})})),q=function(){var e=Object(j.b)(),a=Object(j.c)((function(e){return e.app.images})),t=Object(j.c)((function(e){return e.app.status})),i=Object(j.c)((function(e){return e.app.responseMessage})),r=Object(c.useState)(!1),s=Object(l.a)(r,2),u=s[0],o=s[1],g=Object(c.useState)(!1),_=Object(l.a)(g,2),O=_[0],f=_[1],h=Object(m.a)({initialValues:{tag:""},validate:function(e){var a={};return e.tag?/^[a-z, ]+$/i.test(e.tag)||(a.tag="\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430"):a.tag="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 '\u0442\u0435\u0433'",a},onSubmit:function(a){var t;e((t=a.tag,function(){var e=Object(p.a)(b.a.mark((function e(a){var n,c,i,r,s,u,o,l,g;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(N("loading")),e.prev=1,n=t.split(","),c=n.map((function(e){return e?x(e):null})),e.next=6,Promise.all(c);case 6:i=e.sent,r=i[0],s=null===r||void 0===r?void 0:r.data.data,u=s.id,o=s.image_url,l=i[1],g=[o,(null===l||void 0===l?void 0:l.data.data.image_url)?null===l||void 0===l?void 0:l.data.data.image_url:null],0===(null===r||void 0===r?void 0:r.data.data.length)||0===(null===l||void 0===l?void 0:l.data.data.length)?a(A("\u041f\u043e \u0442\u0435\u0433\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")):(a(S(u,g,t.toLowerCase())),a({type:"APP/SET_UNIQUE_TAG_NAME",tag:t.toLowerCase()})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),a(A("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 http \u043e\u0448\u0438\u0431\u043a\u0430"));case 17:a(N("succeeded"));case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a){return e.apply(this,arguments)}}()))}}),v=function(e){h.setFieldValue("tag",e)};return Object(n.jsxs)("div",{className:d.a.mainBlock,children:[i?Object(n.jsx)(P,{active:u,setActive:o,text:i}):null,Object(n.jsxs)("div",{className:d.a.mainContainer,children:[Object(n.jsxs)("form",{onSubmit:h.handleSubmit,className:d.a.form,children:[Object(n.jsx)("input",{type:"text",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433",onChange:h.handleChange,name:"tag",value:h.values.tag}),Object(n.jsx)("button",{className:d.a.load,value:"send",disabled:"loading"===t,onClick:function(){h.errors||!h.values.tag?(h.errors.tag&&e(A(h.errors.tag)),setTimeout((function(){return e(A(""))}),4e3),o(!0)):(o(!1),h.handleSubmit())},type:"submit",children:"loading"===t?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(n.jsx)("button",{className:d.a.clear,type:"button",onClick:function(){e({type:"APP/REMOVE_IMAGE"}),h.resetForm()},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),O?Object(n.jsx)("button",{className:d.a.group,type:"button",onClick:function(){return f(!1)},children:"\u0420\u0430\u0437\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}):Object(n.jsx)("button",{className:d.a.group,type:"button",onClick:function(){return f(!0)},children:"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),O?Object(n.jsx)(V,{handlerSetTagValueInput:v}):Object(n.jsx)("div",{className:d.a.images,children:a&&a.map((function(e,a){return Object(n.jsx)(G,{handlerSetTagValueInput:v,image:e},"".concat(e.id," ").concat(a))}))})]})]})},w=t(41),U=t.n(w),F=function(){return Object(n.jsx)("div",{className:U.a.header,children:Object(n.jsx)("h1",{children:"Header"})})},B=function(){return Object(n.jsxs)("div",{className:o.a.app,children:[Object(n.jsx)(F,{}),Object(n.jsx)(q,{})]})},R=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,73)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,i=a.getLCP,r=a.getTTFB;t(e),n(e),c(e),i(e),r(e)}))},D=t(11),L=t(42),z=Object(D.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"APP/SET_STATUS":return Object(f.a)(Object(f.a)({},e),{},{status:a.status});case"APP/SET_IMAGE":return Object(f.a)(Object(f.a)({},e),{},{images:[].concat(Object(O.a)(e.images),[{id:a.id,image_url:a.image_url,tag:a.tag}])});case"APP/REMOVE_IMAGE":return Object(f.a)(Object(f.a)({},e),{},{images:[],uniqueTagsNames:[]});case"APP/SET_RESPONSE_MESSAGE":return Object(f.a)(Object(f.a)({},e),{},{responseMessage:a.message});case"APP/SET_UNIQUE_TAG_NAME":return e.uniqueTagsNames.length?e.uniqueTagsNames.find((function(e){return e===a.tag}))?e:Object(f.a)(Object(f.a)({},e),{},{uniqueTagsNames:[].concat(Object(O.a)(e.uniqueTagsNames),[a.tag])}):Object(f.a)(Object(f.a)({},e),{},{uniqueTagsNames:[a.tag]});default:return e}}}),H=Object(D.d)(z,Object(D.a)(L.a));window.store=H,s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(j.a,{store:H,children:Object(n.jsx)(B,{})})}),document.getElementById("root")),R()},8:function(e,a,t){e.exports={mainBlock:"Main_mainBlock__5aICz",mainContainer:"Main_mainContainer__KoDBs",form:"Main_form__3hcEP",load:"Main_load__2A8OV",clear:"Main_clear__2PnN6",group:"Main_group__3R4OT",images:"Main_images__KzOY_"}},9:function(e,a,t){e.exports={modal:"Modal_modal__1kS8s",modalContent:"Modal_modalContent__2GV_h",text:"Modal_text__2r-Su",modalContentActive:"Modal_modalContentActive__3QTwg",active:"Modal_active__IM28W"}}},[[72,1,2]]]);
//# sourceMappingURL=main.4c91a01d.chunk.js.map